### Assistant

Сервис **Assistant** предназначен для обработки голосовых запросов пользователей посредством интеграции с облачной платформой Яндекса (`Yandex Cloud`). Сервис построен на Spring Boot и обеспечивает запись голосовых сообщений, распознавание текста из речи и передачу распознанного текста в нейросеть для генерации ответа. Дополнительно интегрирован с сервисом GigaChat, куда отправляется текст, полученный из аудио-записи.

### Основные возможности

- Запись голосовых вопросов от пользователя.
- Распознавание речи из аудиозаписи.
- Передача распознанного текста в нейросеть для анализа и формирования ответа.
- Отправка текста в GigaChat для дальнейшей обработки.
- Интеграция с сервисами `Yandex Cloud`.

### Настройка окружения

Для начала работы с проектом убедитесь, что установлены необходимые зависимости и настроены переменные среды:

1. Установите Java версии >= 8 и Maven.
2. Создайте аккаунт в Yandex Cloud и получите ключи доступа для вашего аккаунта.
3. Склонируйте проект и установите зависимости:

```bash
git clone https://github.com/your-repo.git
cd your-project
mvn clean install
```

4. Откройте файл конфигурации `application.properties`, добавьте токены доступа и необходимую информацию для связи с облачными ресурсами:

```properties
yandex.iam.token=
yandex.cloud.catalog=
audio.file.path=

gigachat.client.id=
gigachat.client.secret=
gigachat.openapi.key=
gigachat.rq.uid=
gigachat.get.model.url=
gigachat.get.token.url=
gigachat.send.query.url=

keystore.path=
keystore.pass=
```

### Тестирование и запуск

Запустите приложение командой:

```bash
mvn spring-boot:run
```

Теперь ваше приложение доступно по адресу http://localhost:8080/.

### Работа с сертификатами

Для отправки сообщений необходимо [сертификат](https://www.gosuslugi.ru/crt). Выпущенный серт нужно упаковать в keystore.jks, который потом будет прикладываться к запросам.
Чтобы положить серты в .jks файл, надо октрыть терминал в месте расположения сертификатов и вполнить следующие команды:
1. Создаем хранилище ключей: ```keytool -genkeypair -alias <название> -keyalg RSA -keysize 2048 -keystore <название_хранилища>.jks -storepass <пароль>```;
2. Кладем скаченные/полученные сертификаты в .jks файл: ```keytool -importcert -alias <название> -file <название_сертификата>.crt -keystore <название_хранилища>.jks``` (Эта команда выполняется для каждого файла, который получен здесь [сертификат](https://www.gosuslugi.ru/crt));
3. Проверяем содержимое: ```keytool -list -v -keystore your_keystore.jks```.